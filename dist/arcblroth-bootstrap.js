"use strict";export function load(e){function t(e,t=[]){let o=document.createElement(e);return t.length>0&&t.forEach(e=>{o.classList.add(e)}),o}function o(e=[]){return t("div",e)}class r{constructor(){this.track=o(["ui","progressBar"]),this.bar=o(),document.body.append(this.track),this.track.append(this.bar),this.progress=0}getProgress(){return this.progress}setProgress(e){this.progress=e,this.bar.style.width=100*e+"%"}remove(){this.track.removeChild(this.bar),this.track.parentElement.removeChild(this.track)}}function s(e){return new Promise((o,r)=>{let s=t("link"),n=()=>{o(e)};s.onload=n,s.onreadystatechange=n,s.onerror=()=>{r(e)},s.rel="stylesheet",s.href=e,document.head.append(s)})}function n(e){return new Promise((o,r)=>{"object"==typeof e&&e.module;e="string"==typeof e?e:e.src;let s=t("script"),n=()=>{o(e)};s.onload=n,s.onreadystatechange=n,s.onerror=()=>{r(e)},s.src=e,document.body.append(s)})}function a(e){console.error("[arcblroth-bootstrap.js]",e)}!async function(){let l=t("style");document.body.append(l),l.innerText="body,html{height:100%;overflow:hidden}body{color:#000;background-color:#000;display:block}.ui{position:absolute;z-index:1000}.debug-text{font-family:'Source Code Pro',Consolas,monospace;background-color:#cccccc99}.loadScreenBg{width:100vw;height:100vh;background-color:#000;opacity:100%;transition:opacity 1s}.logo{width:50%;height:30%;left:50%;top:33%;transform:translate(-50%,-50%);background-color:#0000;object-fit:contain;image-rendering:pixelated;transition:opacity 1s}.progressBar{width:70%;height:min(25px,5%);left:50%;top:70%;transform:translate(-50%,-50%);background-color:#232425;border-radius:1px;opacity:100%;transition:opacity 1s}.progressBar>div{position:relative;display:block;transition:width .5s;height:100%;background-color:#17c1ff}.loadFail{z-index:1001!important;color:#fff!important;background-color:#ff4a4a99!important}";let d=o(["ui","loadScreenBg"]);document.body.append(d);let i=t("img",["ui","logo"]);i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAAASCAMAAAB4m5DDAAAAAXNSR0IArs4c6QAAAAZQTFRFAAAAF8H/Q+0FuAAAAAJ0Uk5TAP9bkSK1AAAA1ElEQVQ4jZ2UUQ6EQAhD6f0vvRs347algxP9MCqFV0Ctug+ghuOKgjSzPKuAMesdQ2tiZlxBlsyOogqHjI3DLr+rHjNSG0+O3AheMI4Q0jgxwkgWwrO9CNWCDUem3eCh1w3ie9sQksEe/zVURF630pahTdrcZEcssrGsJ7a1mfG7CYgapLS2aMqalsRDRkWGbqbPJ7ehW7mlRYxSA5FRiVGRIWEYg5sxi3uGFIcz2Lm44fEN/wsJRun21eHPaOnal7su+zbFDrxXOgcvW0hoisKcRIwPIKUCyMfm4WcAAAAASUVORK5CYII=",document.body.append(i);let c=new r;function h(e,t){let o=`Failed to load ${e}, please reload and try again.`;a(`Could not load all ${e}:`),a(t),c.bar.style.backgroundColor="#ff4a4a",c.bar.ontransitionend=()=>{alert(o)};let r=document.getElementById("pos");r.innerHTML=o,r.classList.add("loadFail")}c.setProgress(0);let p=()=>{};e.onload&&(p=e.onload,delete e.onload);let u=[];e.loaders&&(u=e.loaders,delete e.loaders),u.scripts||(u.scripts=n),u.stylesheets||(u.stylesheets=s);let m=Object.keys(e),y=0;for(let e=0;e<m.length;e++){let t=m[e];try{await Promise.all(requiredStylesheets.map(e=>s(e).then(e=>{c.setProgress(++stylesheetsDone/requiredStylesheets.length*(1/m)+y/m)})))}catch(e){throw h(t,e),e}g=`Loaded all ${t}!`,console.log("[arcblroth-bootstrap.js]",g),y++}var g;c.track.ontransitionend=()=>{logoCanvas.style.opacity="0%",d.style.opacity="0%",c.track.style.opacity="0%",setTimeout(()=>{window.removeEventListener("resize",onResizeHandler),logoCanvas.parentElement.removeChild(logoCanvas),c.remove(),d.parentElement.removeChild(d),l.parentElement.removeChild(l),p()},1e3),c.track.ontransitionend=()=>{}}}()}